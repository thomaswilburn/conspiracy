<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Conspiracy</title>
</head>
<body>
  <div class="root"></div>

  <template>
    <div c:test="hello">
      Hello <!-- c:name -->
      <ul>
        <li c:each="item, i of items on key" c:text="item.name">
        </li>
      </ul>
    </div>
    <button c:on.click="clickedtestbutton">TEST</button>
    <h1 c:if="visible">TOGGLE ME <!-- c:visible --></h1>
  </template>

  <script type="module">
    import Conspiracy from "./conspiracy.js";

    var root = document.querySelector(".root");
    var template = document.querySelector("template");
    var binding = new Conspiracy(template, {});
    var data = { name: "World" };
    binding.attach(root, data);

    var visible = false;
    root.addEventListener("clickedtestbutton", e => {
      console.log(`Got custom event: ${e.type}`);
      data.visible = !data.visible;
      binding.update(data);
    });
  </script>
</body>
</html>